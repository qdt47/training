<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/header.css" />
  </head>
  <body>
    <header class="header">
      <a href="index.html" class="header__logo"> QDT47 </a>
      <div id="menuToggle" class="menu-toggle">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </header>
    <nav id="sideMenu" class="side-menu">
      <ul class="side-menu__list">
        <li class="side-menu__item"><a href="index.html">ğŸ¡ ãƒ›ãƒ¼ãƒ </a></li>
        <li class="side-menu__item">
          <a href="0.5s.html">â±ï¸ 0.5ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a>
        </li>
        <li class="side-menu__item">
          <a href="0.8s.html">â±ï¸ 0.8ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a>
        </li>
        <li class="side-menu__item"><a href="1s.html">â±ï¸ 1ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a></li>
        <li class="side-menu__item">
          <a href="1-5s.html">â±ï¸ 1.5ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a>
        </li>
        <li class="side-menu__item"><a href="2s.html">â±ï¸ 2ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a></li>
        <li class="side-menu__item"><a href="3s.html">â±ï¸ 3ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a></li>
        <li class="side-menu__item">
          <a href="count.html">â±ï¸ ç§’æ•°ã‚«ã‚¦ãƒ³ãƒˆãƒ¡ã‚¤ãƒ³</a>
        </li>
        <li class="side-menu__item">
          <a href="message.html">ğŸ’¬ å¥®ã„ç«‹ã¤åè¨€é›†</a>
        </li>
        <li class="side-menu__item">
          <a href="movie.html">ğŸ’ª ã‚„ã‚‹æ°—UPå‹•ç”»</a>
        </li>
      </ul>
    </nav>
    <h1>ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—</h1>
    <div class="sub-title">ver.3.0</div>
    <p id="counter">0</p>
    <div>
      <button id="startBtn">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
      <button id="stopBtn">ã‚¹ãƒˆãƒƒãƒ—</button>
      <button id="resetBtn">ãƒªã‚»ãƒƒãƒˆ</button>
    </div>

    <script>
      let counter = 0;
      let intervalId;
      let countdownId;

      function speak(text) {
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = "ja-JP";
        speechSynthesis.speak(utterance);
      }

      function startCounting() {
        clearInterval(intervalId);
        clearInterval(countdownId);
        speechSynthesis.cancel();
        counter = 0;
        document.getElementById("counter").textContent = "10"; // æœ€åˆã«10ã‚’è¡¨ç¤º

        // ã¾ãšã€Œ10ç§’å¾Œã«ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™ã€ã¨ç™ºå£°
        speak("10ç§’å¾Œã«ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™");

        // 2ç§’å¾…ã£ã¦ã‹ã‚‰ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã‚’é–‹å§‹
        setTimeout(() => {
          let countdown = 10;
          countdownId = setInterval(() => {
            document.getElementById("counter").textContent = countdown;
            speak(countdown);

            countdown--;
            if (countdown < 0) {
              clearInterval(countdownId);
              speak("ã‚¹ã‚¿ãƒ¼ãƒˆï¼");
              counter = 0;
              document.getElementById("counter").textContent = counter;

              // ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—é–‹å§‹
              intervalId = setInterval(() => {
                counter++;
                document.getElementById("counter").textContent = counter;
                speak(counter);
                if (counter >= 1500) {
                  clearInterval(intervalId);
                }
              }, 3000);
            }
          }, 1000);
        }, 2000); // â†ã“ã“ã§2ç§’ã®é–“ã‚’ç½®ã
      }

      function stopCounting() {
        clearInterval(intervalId);
        clearInterval(countdownId);
        speechSynthesis.cancel();
      }

      function resetCounting() {
        clearInterval(intervalId);
        clearInterval(countdownId);
        speechSynthesis.cancel();
        counter = 0;
        document.getElementById("counter").textContent = counter;
      }

      document
        .getElementById("startBtn")
        .addEventListener("click", startCounting);
      document
        .getElementById("stopBtn")
        .addEventListener("click", stopCounting);
      document
        .getElementById("resetBtn")
        .addEventListener("click", resetCounting);
    </script>
    <script src="../js/script.js"></script>
  </body>
</html>
