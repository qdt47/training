<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>ã€å‹•ç”»ç‰ˆã€‘ç©¶æ¥µã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãƒ–ãƒ¼ã‚¹ãƒˆ</title>
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/movie.css" />
  </head>
  <body>
    <header class="header">
      <a href="index.html" class="header__logo"> QDT47 </a>
      <div id="menuToggle" class="menu-toggle">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </header>
    <nav id="sideMenu" class="side-menu">
      <ul class="side-menu__list">
        <li class="side-menu__item"><a href="index.html">ğŸ¡ ãƒ›ãƒ¼ãƒ </a></li>
        <li class="side-menu__item">
          <a href="0.5s.html">â±ï¸ 0.5ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a>
        </li>
        <li class="side-menu__item">
          <a href="0.8s.html">â±ï¸ 0.8ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a>
        </li>
        <li class="side-menu__item"><a href="1s.html">â±ï¸ 1ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a></li>
        <li class="side-menu__item">
          <a href="1-5s.html">â±ï¸ 1.5ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a>
        </li>
        <li class="side-menu__item"><a href="2s.html">â±ï¸ 2ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a></li>
        <li class="side-menu__item"><a href="3s.html">â±ï¸ 3ç§’æ¯ã‚«ã‚¦ãƒ³ãƒˆ</a></li>
        <li class="side-menu__item">
          <a href="count.html">â±ï¸ ç§’æ•°ã‚«ã‚¦ãƒ³ãƒˆãƒ¡ã‚¤ãƒ³</a>
        </li>
        <li class="side-menu__item">
          <a href="message.html">ğŸ’¬ å¥®ã„ç«‹ã¤åè¨€é›†</a>
        </li>
        <li class="side-menu__item">
          <a href="movie.html">ğŸ’ª ã‚„ã‚‹æ°—UPå‹•ç”»</a>
        </li>
      </ul>
    </nav>
    <h1 class="page-movie__title">ã‚„ã‚‹æ°—ãŒãªã„æ™‚ã«è¦‹ã¾ã—ã‚‡ã†
    </h1>

    <ul id="videoGridList" class="page-movie__grid-list"></ul>

    <div id="modal" class="page-movie__modal">
      <div id="videoContainer" class="page-movie__video-box">
        <button
          id="prevVideo"
          class="page-movie__nav-btn page-movie__nav-btn--prev"
        >
          â†
        </button>
        <button
          id="nextVideo"
          class="page-movie__nav-btn page-movie__nav-btn--next"
        >
          â†’
        </button>

        <button id="closeModal" class="page-movie__close-btn">Ã—</button>

        <div id="videoTitle" class="page-movie__video-title"></div>

        <div id="videoEmbedContainer" class="page-movie__embed-area">
          <iframe
            id="youtubeIframe"
            src=""
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          >
          </iframe>
        </div>
      </div>
    </div>

    <script>
      // YouTubeå‹•ç”»ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚¹ãƒˆ
      const motivationalVideos = [
        // â˜…â˜…â˜… ä»Šå›è¿½åŠ ã•ã‚ŒãŸ6ã¤ã®å‹•ç”»ãƒ‡ãƒ¼ã‚¿ â˜…â˜…â˜…
        {
          // URL: https://www.youtube.com/watch?v=E-qIbnOysPo
          title: "å‰ç”°éŸ¿VSé¶´å·æ­£ä¹Ÿ",
          channel: "é™ç•Œã®ãƒ©ã‚¹ãƒˆã‚¹ãƒ‘ãƒ¼ãƒˆå¯¾æ±º",
          youtubeId: "E-qIbnOysPo",
        },
        {
          // URL: https://www.youtube.com/watch?v=UX0SdoMPit4
          title: "ãã®1ç§’ã‚’å‰Šã‚Šã ã›",
          channel: "ãŸã£ãŸ21ç§’ã®æ•—åŒ—ã‹ã‚‰",
          youtubeId: "UX0SdoMPit4",
        },
        {
          // URL: https://www.youtube.com/watch?v=0pzHGpLReJg
          title: "ç®±æ ¹é§…ä¼97MAF",
          channel: "æ±æ´‹å¾€è·¯2ä½",
          youtubeId: "0pzHGpLReJg",
        },
        {
          // URL: https://www.youtube.com/watch?v=QVLaFwFIBec&t=495s
          title: "å®®å²¡è‰¯ä¸ã®å®¶",
          channel: "ã‚³ãƒ³ãƒ­å°ã§ã”é£¯é£Ÿã¹ã‚‹äºº",
          youtubeId: "QVLaFwFIBec",
        },
        {
          // URL: https://www.youtube.com/watch?v=88Z1hnvqI_c
          title: "41å›é¸æ‰‹ç´¹ä»‹",
          channel: "100äºº",
          youtubeId: "88Z1hnvqI_c",
        },
        {
          // URL: https://www.youtube.com/watch?v=DW7Dc7vok90&t=1492s
          title: "æ±æ´‹å¤åˆå®¿2022",
          channel: "æ¿€ç™½ã®ãƒã‚¤ãƒ³ãƒˆç·´ç¿’",
          youtubeId: "DW7Dc7vok90",
        },
        {
          // URL: https://www.youtube.com/watch?v=pbcPyRO5smc
          title: "é»’è™å‚",
          channel: "ãã¤ãã†",
          youtubeId: "pbcPyRO5smc",
        },
      ];
      let currentModalIndex = 0; // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã§ç¾åœ¨è¡¨ç¤ºä¸­ã®å‹•ç”»ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
      const YOUTUBE_EMBED_URL = "https://www.youtube.com/embed/";

      // YouTubeã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®URLã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
      function getYoutubeThumbnail(videoId) {
        // default.jpg, mqdefault.jpg, hqdefault.jpg, sddefault.jpg, maxresdefault.jpg
        // maxresdefault.jpg ãŒé«˜ç”»è³ªã§ã™ãŒã€å­˜åœ¨ã—ãªã„å ´åˆãŒã‚ã‚‹ãŸã‚ mqdefault.jpg ã‚’Fallbackã¨ã—ã¾ã™ã€‚
        return `https://img.youtube.com/vi/${videoId}/mqdefault.jpg`;
      }

      // å‹•ç”»ã‚’ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã«è¡¨ç¤ºã—ã€å†ç”Ÿã‚’æº–å‚™ã™ã‚‹é–¢æ•°
      function displayVideoInModal(index) {
        currentModalIndex = index;
        const selected = motivationalVideos[index];

        document.getElementById("videoTitle").textContent = selected.title;

        // â˜…â˜…â˜… YouTubeã®URLã‚’ã‚»ãƒƒãƒˆ (autoplay=1 ã§è‡ªå‹•å†ç”Ÿ) â˜…â˜…â˜…
        const videoUrl = `${YOUTUBE_EMBED_URL}${selected.youtubeId}?autoplay=1&rel=0`;
        document.getElementById("youtubeIframe").src = videoUrl;

        document.getElementById("modal").style.display = "flex"; // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
      }

      // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã€å‹•ç”»å†ç”Ÿã‚’åœæ­¢ã™ã‚‹é–¢æ•°
      function closeModal() {
        document.getElementById("modal").style.display = "none";
        // â˜…â˜…â˜… ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹ã¨ãã«iframeã®srcã‚’ãƒªã‚»ãƒƒãƒˆã—ã€å†ç”Ÿã‚’ç¢ºå®Ÿã«åœæ­¢ã•ã›ã‚‹ â˜…â˜…â˜…
        document.getElementById("youtubeIframe").src = "";
      }

      // æ¬¡ã®å‹•ç”»ã¸ç§»å‹•
      function nextVideo() {
        const nextIndex = (currentModalIndex + 1) % motivationalVideos.length;
        displayVideoInModal(nextIndex);
      }

      // å‰ã®å‹•ç”»ã¸ç§»å‹•
      function prevVideo() {
        let prevIndex = currentModalIndex - 1;
        if (prevIndex < 0) {
          prevIndex = motivationalVideos.length - 1;
        }
        displayVideoInModal(prevIndex);
      }

      // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã®åˆæœŸè¨­å®š
      document.addEventListener("DOMContentLoaded", () => {
        const videoGridList = document.getElementById("videoGridList");

        // 1. ã‚°ãƒªãƒƒãƒ‰ãƒªã‚¹ãƒˆã®ä½œæˆ
        motivationalVideos.forEach((item, index) => {
          const listItem = document.createElement("li");
          listItem.classList.add("page-movie__item");

          // å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒãƒ£ãƒ³ãƒãƒ«åã‚’ãƒªã‚¹ãƒˆé …ç›®ã«è¡¨ç¤º
          listItem.innerHTML = `
                <img src="${getYoutubeThumbnail(item.youtubeId)}" alt="${
            item.title
          }" class="page-movie__item-thumbnail">
                <div class="page-movie__item-info">
                    <div class="page-movie__item-title">${item.title}</div>
                    <div class="page-movie__item-channel">${
                      item.channel
                    }</div>
                </div>
            `;

          // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
          listItem.addEventListener("click", () => {
            displayVideoInModal(index);
          });

          videoGridList.appendChild(listItem);
        });

        // 2. ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼‰ã®æ“ä½œãƒœã‚¿ãƒ³è¨­å®š
        document
          .getElementById("closeModal")
          .addEventListener("click", closeModal);
        document
          .getElementById("nextVideo")
          .addEventListener("click", nextVideo);
        document
          .getElementById("prevVideo")
          .addEventListener("click", prevVideo);
      });
    </script>
    <script src="../js/script.js"></script>
  </body>
</html>
